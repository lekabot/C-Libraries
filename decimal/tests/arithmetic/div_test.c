#include "../test_main.h"

void test_div(s21_decimal decimal1, s21_decimal decimal2, s21_decimal check) {
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);
  ck_assert_int_eq(s21_is_equal(result, check), 1);
  ck_assert_int_eq(code, OK);
}

void test_div_fail1(s21_decimal decimal1, s21_decimal decimal2,
                    int code_check) {
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);
  ck_assert_int_eq(code, code_check);
}

void test_div_fail2(s21_decimal decimal1, s21_decimal decimal2,
                    s21_decimal decimal_check, int code_check) {
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);
  ck_assert_int_eq(code, code_check);
  ck_assert_int_eq(s21_is_equal(result, decimal_check), 1);
}

START_TEST(s21_s21_div1) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 2;
  // src2 = 3;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00001010101010101010101010101011;
  res.bits[1] = 0b00101001011011100000000110010110;
  res.bits[2] = 0b00010101100010101000100110010100;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div2) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -2;
  // src2 = -3;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00001010101010101010101010101011;
  res.bits[1] = 0b00101001011011100000000110010110;
  res.bits[2] = 0b00010101100010101000100110010100;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div3) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 2;
  // src2 = -3;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00001010101010101010101010101011;
  res.bits[1] = 0b00101001011011100000000110010110;
  res.bits[2] = 0b00010101100010101000100110010100;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div4) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -2;
  // src2 = 3;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00001010101010101010101010101011;
  res.bits[1] = 0b00101001011011100000000110010110;
  res.bits[2] = 0b00010101100010101000100110010100;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div5) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3;
  // src2 = 2;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000010;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000001111;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000010000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div6) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3;
  // src2 = -2;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000010;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000001111;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000010000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div7) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3;
  // src2 = -2;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000010;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000001111;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000010000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div8) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3;
  // src2 = 2;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000010;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000001111;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000010000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div9) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3;
  // src2 = 3;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div10) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3;
  // src2 = -3;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div11) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3;
  // src2 = -3;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div12) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3;
  // src2 = 3;

  src1.bits[0] = 0b00000000000000000000000000000011;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000011;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div15) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3,2;
  // src2 = 3,3;

  src1.bits[0] = 0b00000000000000000000000000100000;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000010000000000000000;

  src2.bits[0] = 0b00000000000000000000000000100001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000010000000000000000;

  res.bits[0] = 0b00111110000011111000001111100001;
  res.bits[1] = 0b10011001010110100011000011011010;
  res.bits[2] = 0b00011111010101010010010100110100;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div16) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3,2;
  // src2 = -3,3;

  src1.bits[0] = 0b00000000000000000000000000100000;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000010000000000000000;

  src2.bits[0] = 0b00000000000000000000000000100001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000010000000000000000;

  res.bits[0] = 0b00111110000011111000001111100001;
  res.bits[1] = 0b10011001010110100011000011011010;
  res.bits[2] = 0b00011111010101010010010100110100;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div17) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -3,2;
  // src2 = 3,3;

  src1.bits[0] = 0b00000000000000000000000000100000;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000000010000000000000000;

  src2.bits[0] = 0b00000000000000000000000000100001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000010000000000000000;

  res.bits[0] = 0b00111110000011111000001111100001;
  res.bits[1] = 0b10011001010110100011000011011010;
  res.bits[2] = 0b00011111010101010010010100110100;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div18) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 3,2;
  // src2 = -3,3;

  src1.bits[0] = 0b00000000000000000000000000100000;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000010000000000000000;

  src2.bits[0] = 0b00000000000000000000000000100001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000010000000000000000;

  res.bits[0] = 0b00111110000011111000001111100001;
  res.bits[1] = 0b10011001010110100011000011011010;
  res.bits[2] = 0b00011111010101010010010100110100;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div19) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 12345677,987654345678987654346;
  // src2 = 87654323456,9876545678987653;

  src1.bits[0] = 0b10010001000010101111010011001010;
  src1.bits[1] = 0b11000000010001011101010111110010;
  src1.bits[2] = 0b00100111111001000001101100000000;
  src1.bits[3] = 0b00000000000101010000000000000000;

  src2.bits[0] = 0b00010001110011011101000110000101;
  src2.bits[1] = 0b11110101101111000110111111000000;
  src2.bits[2] = 0b00000010110101010000111100111111;
  src2.bits[3] = 0b00000000000100000000000000000000;

  res.bits[0] = 0b11000110100011000111000110111011;
  res.bits[1] = 0b01000001110101101000100101010000;
  res.bits[2] = 0b00000000000000010010101001000000;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div20) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -12345677,987654345678987654346;
  // src2 = -87654323456,9876545678987653;

  src1.bits[0] = 0b10010001000010101111010011001010;
  src1.bits[1] = 0b11000000010001011101010111110010;
  src1.bits[2] = 0b00100111111001000001101100000000;
  src1.bits[3] = 0b10000000000101010000000000000000;

  src2.bits[0] = 0b00010001110011011101000110000101;
  src2.bits[1] = 0b11110101101111000110111111000000;
  src2.bits[2] = 0b00000010110101010000111100111111;
  src2.bits[3] = 0b10000000000100000000000000000000;

  res.bits[0] = 0b11000110100011000111000110111011;
  res.bits[1] = 0b01000001110101101000100101010000;
  res.bits[2] = 0b00000000000000010010101001000000;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div21) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 12345677,987654345678987654346;
  // src2 = -87654323456,9876545678987653;

  src1.bits[0] = 0b10010001000010101111010011001010;
  src1.bits[1] = 0b11000000010001011101010111110010;
  src1.bits[2] = 0b00100111111001000001101100000000;
  src1.bits[3] = 0b00000000000101010000000000000000;

  src2.bits[0] = 0b00010001110011011101000110000101;
  src2.bits[1] = 0b11110101101111000110111111000000;
  src2.bits[2] = 0b00000010110101010000111100111111;
  src2.bits[3] = 0b10000000000100000000000000000000;

  res.bits[0] = 0b11000110100011000111000110111011;
  res.bits[1] = 0b01000001110101101000100101010000;
  res.bits[2] = 0b00000000000000010010101001000000;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div22) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -12345677,987654345678987654346;
  // src2 = 87654323456,9876545678987653;

  src1.bits[0] = 0b10010001000010101111010011001010;
  src1.bits[1] = 0b11000000010001011101010111110010;
  src1.bits[2] = 0b00100111111001000001101100000000;
  src1.bits[3] = 0b10000000000101010000000000000000;

  src2.bits[0] = 0b00010001110011011101000110000101;
  src2.bits[1] = 0b11110101101111000110111111000000;
  src2.bits[2] = 0b00000010110101010000111100111111;
  src2.bits[3] = 0b00000000000100000000000000000000;

  res.bits[0] = 0b11000110100011000111000110111011;
  res.bits[1] = 0b01000001110101101000100101010000;
  res.bits[2] = 0b00000000000000010010101001000000;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div23) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 79228162514264337593543950334;
  // src2 = 1;

  src1.bits[0] = 0b11111111111111111111111111111110;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b11111111111111111111111111111110;
  res.bits[1] = 0b11111111111111111111111111111111;
  res.bits[2] = 0b11111111111111111111111111111111;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div24) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -79228162514264337593543950334;
  // src2 = -1;

  src1.bits[0] = 0b11111111111111111111111111111110;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b11111111111111111111111111111110;
  res.bits[1] = 0b11111111111111111111111111111111;
  res.bits[2] = 0b11111111111111111111111111111111;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div25) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -79228162514264337593543950334;
  // src2 = 1;

  src1.bits[0] = 0b11111111111111111111111111111110;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b11111111111111111111111111111110;
  res.bits[1] = 0b11111111111111111111111111111111;
  res.bits[2] = 0b11111111111111111111111111111111;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div26) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 79228162514264337593543950334;
  // src2 = -1;

  src1.bits[0] = 0b11111111111111111111111111111110;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b11111111111111111111111111111110;
  res.bits[1] = 0b11111111111111111111111111111111;
  res.bits[2] = 0b11111111111111111111111111111111;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div28) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 665464545;
  // src2 = 8798232189789785;

  src1.bits[0] = 0b00100111101010100010111011100001;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00010000010100101110011001011001;
  src2.bits[1] = 0b00000000000111110100000111110010;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b01010010000011000001010110110110;
  res.bits[1] = 0b00000000101000000110010011001100;
  res.bits[2] = 0b00000000000000000000000000101001;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div29) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 2,7986531268974139743;
  // src2 = 9,979623121254565121244554;

  src1.bits[0] = 0b11111110100100001101100101011111;
  src1.bits[1] = 0b10000100011001000010000111101000;
  src1.bits[2] = 0b00000000000000000000000000000001;
  src1.bits[3] = 0b00000000000100110000000000000000;

  src2.bits[0] = 0b11010100101011100011110110001010;
  src2.bits[1] = 0b01110100000101000010011110100011;
  src2.bits[2] = 0b00000000000010000100000101000100;
  src2.bits[3] = 0b00000000000110000000000000000000;

  res.bits[0] = 0b10110000000110101011000111000111;
  res.bits[1] = 0b10100110110111100111111001101001;
  res.bits[2] = 0b00001001000011111011011111101101;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div31) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 0,5456465465486476846545465485;
  // src2 = 0,68985125146545154;

  src1.bits[0] = 0b00001011000011110111000010001101;
  src1.bits[1] = 0b10010110101100000101100101010001;
  src1.bits[2] = 0b00010001101000010111101110000001;
  src1.bits[3] = 0b00000000000111000000000000000000;

  src2.bits[0] = 0b00010111001001010100110000000010;
  src2.bits[1] = 0b00000000111101010001010110011011;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000100010000000000000000;

  res.bits[0] = 0b11111100011000000110000010011111;
  res.bits[1] = 0b00110010101101100111001011100101;
  res.bits[2] = 0b00011001100011101011000001111010;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div32) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -0,77545545454546589781;
  // src2 = 87894515154546456456;

  src1.bits[0] = 0b10101100001010000001100001010101;
  src1.bits[1] = 0b00110100001010010001111010111100;
  src1.bits[2] = 0b00000000000000000000000000000100;
  src1.bits[3] = 0b10000000000101000000000000000000;

  src2.bits[0] = 0b00010011111011011111011110001000;
  src2.bits[1] = 0b11000011110010000000101111011001;
  src2.bits[2] = 0b00000000000000000000000000000100;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000101010000100011011110011101;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div33) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -79228162514264337593543950334;
  // src2 = 1;

  src1.bits[0] = 0b11111111111111111111111111111110;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b11111111111111111111111111111110;
  res.bits[1] = 0b11111111111111111111111111111111;
  res.bits[2] = 0b11111111111111111111111111111111;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div35) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -784515454,7989898652154545652;
  // src2 = -579895323215489956,67897455465;

  src1.bits[0] = 0b10110001001110110100010111110100;
  src1.bits[1] = 0b00111000100000111010110010000001;
  src1.bits[2] = 0b00011001010110010101110000011000;
  src1.bits[3] = 0b10000000000100110000000000000000;

  src2.bits[0] = 0b11100110001001011001001101101001;
  src2.bits[1] = 0b00111000110110101110001010110100;
  src2.bits[2] = 0b10111011010111111101000100011110;
  src2.bits[3] = 0b10000000000010110000000000000000;

  res.bits[0] = 0b00000010000110000000100111101110;
  res.bits[1] = 0b10111011101111110010001011011011;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000111000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div36) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 0;
  // src2 = -37986322154988653,784354545765;

  src1.bits[0] = 0b00000000000000000000000000000000;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b01001111101101000110000001100101;
  src2.bits[1] = 0b01000010001101101011011001100001;
  src2.bits[2] = 0b01111010101111011000110010011010;
  src2.bits[3] = 0b10000000000011000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000000;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div41) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 79228162514264337593543950335;
  // src2 = 79228162514264337593543950335;

  src1.bits[0] = 0b11111111111111111111111111111111;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b11111111111111111111111111111111;
  src2.bits[1] = 0b11111111111111111111111111111111;
  src2.bits[2] = 0b11111111111111111111111111111111;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div42) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -79228162514264337593543950335;
  // src2 = -79228162514264337593543950335;

  src1.bits[0] = 0b11111111111111111111111111111111;
  src1.bits[1] = 0b11111111111111111111111111111111;
  src1.bits[2] = 0b11111111111111111111111111111111;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b11111111111111111111111111111111;
  src2.bits[1] = 0b11111111111111111111111111111111;
  src2.bits[2] = 0b11111111111111111111111111111111;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div43) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 792281625142643375935439503;
  // src2 = -792281625142643375935439503;

  src1.bits[0] = 0b00101000111101011100001010001111;
  src1.bits[1] = 0b11110101110000101000111101011100;
  src1.bits[2] = 0b00000010100011110101110000101000;
  src1.bits[3] = 0b00000000000000000000000000000000;

  src2.bits[0] = 0b00101000111101011100001010001111;
  src2.bits[1] = 0b11110101110000101000111101011100;
  src2.bits[2] = 0b00000010100011110101110000101000;
  src2.bits[3] = 0b10000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div44) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -7922816251426433759354395033;
  // src2 = 7922816251426433759354395033;

  src1.bits[0] = 0b10011001100110011001100110011001;
  src1.bits[1] = 0b10011001100110011001100110011001;
  src1.bits[2] = 0b00011001100110011001100110011001;
  src1.bits[3] = 0b10000000000000000000000000000000;

  src2.bits[0] = 0b10011001100110011001100110011001;
  src2.bits[1] = 0b10011001100110011001100110011001;
  src2.bits[2] = 0b00011001100110011001100110011001;
  src2.bits[3] = 0b00000000000000000000000000000000;

  res.bits[0] = 0b00000000000000000000000000000001;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div45) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 0,0000000000000000000002;
  // src2 = 0,0000000000000000000001;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000101100000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000101100000000000000000;

  res.bits[0] = 0b00000000000000000000000000000010;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div46) {
  s21_decimal src1, src2, res, our_res;

  // src1 = -0,0000000000000000000002;
  // src2 = 0,0000000000000000000001;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b10000000000101100000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000101100000000000000000;

  res.bits[0] = 0b00000000000000000000000000000010;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div47) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 0,0000000000000000000002;
  // src2 = -0,0000000000000000000001;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000101100000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b10000000000101100000000000000000;

  res.bits[0] = 0b00000000000000000000000000000010;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b10000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_s21_div48) {
  s21_decimal src1, src2, res, our_res;

  // src1 = 0,0000000000000000000002;
  // src2 = 0,0000000000000000000001;

  src1.bits[0] = 0b00000000000000000000000000000010;
  src1.bits[1] = 0b00000000000000000000000000000000;
  src1.bits[2] = 0b00000000000000000000000000000000;
  src1.bits[3] = 0b00000000000101100000000000000000;

  src2.bits[0] = 0b00000000000000000000000000000001;
  src2.bits[1] = 0b00000000000000000000000000000000;
  src2.bits[2] = 0b00000000000000000000000000000000;
  src2.bits[3] = 0b00000000000101100000000000000000;

  res.bits[0] = 0b00000000000000000000000000000010;
  res.bits[1] = 0b00000000000000000000000000000000;
  res.bits[2] = 0b00000000000000000000000000000000;
  res.bits[3] = 0b00000000000000000000000000000000;

  s21_div(src1, src2, &our_res);

  int result = s21_is_equal(res, our_res);

  ck_assert_int_eq(1, result);
}
END_TEST

START_TEST(s21_div_49) {
  s21_decimal src1 = decimal_get_zero();
  s21_decimal src2 = decimal_get_zero();

  int code = 0;
  code = s21_div(src1, src2, NULL);
  ck_assert_int_eq(4, code);
}
END_TEST

START_TEST(s21_div_50) {
  s21_decimal src1 = decimal_get_zero();
  s21_decimal src2 = decimal_get_zero();
  s21_decimal src3 = decimal_get_zero();
  decimal_set_power(&src1, 30);
  int code = s21_div(src1, src2, &src3);
  ck_assert_int_eq(4, code);
}
END_TEST

START_TEST(s21_div_51) {
  s21_decimal src1 = decimal_get_zero();
  s21_decimal src2 = decimal_get_zero();
  s21_decimal src3 = decimal_get_zero();
  int code = s21_div(src1, src2, &src3);
  ck_assert_int_eq(3, code);
}
END_TEST

START_TEST(s21_div_52) {
  s21_decimal src1, src2, our_res;
  s21_from_float_to_decimal(MAX_FLOAT_TO_CONVERT * 2000000000000000, &src1);
  s21_from_float_to_decimal(MAX_FLOAT_TO_CONVERT * -200000000000000, &src2);
  int code = s21_div(src1, src2, &our_res);
  ck_assert_int_eq(INCORRECT_INPUT_DATA, code);
}
END_TEST

START_TEST(s21_div_53) {
  s21_decimal value_1 = decimal_create_from_array(0, 1, 0, 0);  // 0.0001
  s21_decimal value_2 = decimal_create_from_array(1, 0, 0, 0);  // 1.0000
  s21_decimal result;

  int code = s21_div(value_1, value_2, &result);
  ck_assert_int_eq(code, OK);
}
END_TEST

START_TEST(s21_div_54) {
  s21_decimal value_1 = decimal_create_from_array(0, 0, 0, 0);  // 0.0000
  s21_decimal value_2 = decimal_create_from_array(2, 0, 0, 0);  // 2.0000
  s21_decimal result;

  int code = s21_div(value_1, value_2, &result);
  ck_assert_int_eq(code, OK);
}
END_TEST

START_TEST(s21_div_55) {
  s21_decimal value_1 = decimal_get_inf();
  s21_decimal value_2 = decimal_get_inf();
  decimal_set_sign(&value_1, NEGATIVE);
  s21_decimal result;

  int code = s21_div(value_1, value_2, &result);
  ck_assert_int_eq(code, 4);
}
END_TEST

START_TEST(s21_div_56) {
  s21_decimal value_1 = decimal_get_inf();
  s21_decimal value_2 = decimal_get_inf();
  decimal_set_sign(&value_2, NEGATIVE);
  s21_decimal result;

  int code = s21_div(value_1, value_2, &result);
  ck_assert_int_eq(code, 4);
}
END_TEST

START_TEST(test_div_fail_manual1) {
  // 792281625.14264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  int code = s21_div(decimal1, decimal2, NULL);

  ck_assert_int_ne(code, OK);
}

START_TEST(test_div_fail_manual2) {
  // степень 154 (показатель степени должен быть от 0 до 28)
  // биты 0-15 не нули
  // биты 24-30 не нули
  s21_decimal decimal1 = {{0, 0, 0, 1000000000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual3) {
  // степень 29 (показатель степени должен быть от 0 до 28)
  s21_decimal decimal1 = {{-1, 0, 0, 0x1D0000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual4) {
  // степень 29 (показатель степени должен быть от 0 до 28)
  s21_decimal decimal1 = {{0, 0, 0, 0x1D0000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual5) {
  // степень 28 (что корректно), но биты 0-15 не нули (младший бит)
  s21_decimal decimal1 = {{-1, 0, 0, 0x1C0001}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual6) {
  // степень 28 (что корректно), но биты 0-15 не нули (старший бит)
  s21_decimal decimal1 = {{-1, 0, 0, 0x1C8000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual7) {
  // степень 28 (что корректно), но биты 24-30 не нули (младший бит)
  s21_decimal decimal1 = {{-1, 0, 0, 0x11C0000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual8) {
  // степень 28 (что корректно), но биты 24-30 не нули (старший бит)
  s21_decimal decimal1 = {{-1, 0, 0, 0x401C0000}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual9) {
  // Просто все единицы
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF}};
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual10) {
  // степень 154 (показатель степени должен быть от 0 до 28)
  // биты 0-15 не нули
  // биты 24-30 не нули
  s21_decimal decimal2 = {{0, 0, 0, 1000000000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual11) {
  // степень 29 (показатель степени должен быть от 0 до 28)
  s21_decimal decimal2 = {{-1, 0, 0, 0x1D0000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual12) {
  // степень 29 (показатель степени должен быть от 0 до 28)
  s21_decimal decimal2 = {{0, 0, 0, 0x1D0000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual13) {
  // степень 28 (что корректно), но биты 0-15 не нули (младший бит)
  s21_decimal decimal2 = {{-1, 0, 0, 0x1C0001}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual14) {
  // степень 28 (что корректно), но биты 0-15 не нули (старший бит)
  s21_decimal decimal2 = {{-1, 0, 0, 0x1C8000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual15) {
  // степень 28 (что корректно), но биты 24-30 не нули (младший бит)
  s21_decimal decimal2 = {{-1, 0, 0, 0x11C0000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual16) {
  // степень 28 (что корректно), но биты 24-30 не нули (старший бит)
  s21_decimal decimal2 = {{-1, 0, 0, 0x401C0000}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_fail_manual17) {
  // Просто все единицы
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF}};
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x140000}};
  s21_decimal result;
  int code = s21_div(decimal1, decimal2, &result);

  ck_assert_int_ne(code, OK);
}
END_TEST

START_TEST(test_div_manual1) {
  // 1.2640938749860586450804312205
  s21_decimal decimal1 = {{0x1888888D, 0xBE250261, 0x28D856E6, 0x1C0000}};
  // 2
  s21_decimal decimal2 = {{0x2, 0x0, 0x0, 0x0}};
  // 0.6320469374930293225402156102
  s21_decimal check = {{0x8C444446, 0x5F128130, 0x146C2B73, 0x1C0000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual2) {
  // 2
  s21_decimal decimal1 = {{0x2, 0x0, 0x0, 0x0}};
  // 1.2640938749860586450804312205
  s21_decimal decimal2 = {{0x1888888D, 0xBE250261, 0x28D856E6, 0x1C0000}};
  // 1.5821609767882606564463392905
  s21_decimal check = {{0x8B80B889, 0x20B8279E, 0x331F5430, 0x1C0000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual3) {
  // 1431655765
  s21_decimal decimal1 = {{0x55555555, 0x0, 0x0, 0x0}};
  // 12.640938749860586450805
  s21_decimal decimal2 = {{0x2EB3EF75, 0x4444026F, 0x2AD, 0x150000}};
  // 113255494.17884722765619814067
  s21_decimal check = {{0x6D7C5EB3, 0x2C521AF0, 0x24984660, 0x140000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual4) {
  // 1
  s21_decimal decimal1 = {{0x1, 0x0, 0x0, 0x0}};
  // 500
  s21_decimal decimal2 = {{0x1F4, 0x0, 0x0, 0x0}};
  // 0.002
  s21_decimal check = {{0x2, 0x0, 0x0, 0x30000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual5) {
  // 79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // 7.9228162514264337593543950335
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x1C0000}};
  // 10000000000000000000000000000
  s21_decimal check = {{0x10000000, 0x3E250261, 0x204FCE5E, 0x0}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual6) {
  // 7.9228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x1C0000}};
  // 79228162514264337593543950335
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // 0.0000000000000000000000000001
  s21_decimal check = {{0x1, 0x0, 0x0, 0x1C0000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual7) {
  // 79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // -26409387504754779197847983445
  s21_decimal decimal2 = {{0x55555555, 0x55555555, 0x55555555, 0x80000000}};
  // -3
  s21_decimal check = {{0x3, 0x0, 0x0, 0x80000000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual8) {
  // -26409387504754779197847983445
  s21_decimal decimal1 = {{0x55555555, 0x55555555, 0x55555555, 0x80000000}};
  // 156064767525876035022225408
  s21_decimal decimal2 = {{0x0, 0x0, 0x811800, 0x0}};
  // -169.22068909868474138626644073
  s21_decimal check = {{0x8C085869, 0xC05E68BD, 0x36AD9B79, 0x801A0000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual9) {
  // -26409387504754779197847983445
  s21_decimal decimal1 = {{0x55555555, 0x55555555, 0x55555555, 0x80000000}};
  // -429496729.5
  s21_decimal decimal2 = {{0xFFFFFFFF, 0x0, 0x0, 0x80010000}};
  // 61489146926681729710
  s21_decimal check = {{0xAAAAAAAE, 0x55555558, 0x3, 0x0}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual10) {
  // -79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}};
  // 1.0000000000000000000000000001
  s21_decimal decimal2 = {{0x10000001, 0x3E250261, 0x204FCE5E, 0x1C0000}};
  // -79228162514264337593543950327
  s21_decimal check = {{0xFFFFFFF7, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual11) {
  // 1.2640938749860586450804312207
  s21_decimal decimal1 = {{0x1888888F, 0xBE250261, 0x28D856E6, 0x1C0000}};
  // 2.0000000000000000000000000000
  s21_decimal decimal2 = {{0x20000000, 0x7C4A04C2, 0x409F9CBC, 0x1C0000}};
  // 0.6320469374930293225402156104
  s21_decimal check = {{0x8C444448, 0x5F128130, 0x146C2B73, 0x1C0000}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual12) {
  // 3.6336660283201536
  s21_decimal decimal1 = {{0x811800, 0x811800, 0x0, 0x100000}};
  // 0.0000000000000000000000000001
  s21_decimal decimal2 = {{0x1, 0x0, 0x0, 0x1C0000}};
  // 36336660283201536000000000000
  s21_decimal check = {{0x89800000, 0xFEE8FB1C, 0x7568FB1C, 0x0}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual13) {
  // 7.9228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x1C0000}};
  // 0.0000000000000000000000000001
  s21_decimal decimal2 = {{0x1, 0x0, 0x0, 0x1C0000}};
  // 79228162514264337593543950335
  s21_decimal check = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};

  test_div(decimal1, decimal2, check);
}

START_TEST(test_div_manual14) {
  // 79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // -0
  s21_decimal decimal2 = {{0x0, 0x0, 0x0, 0x80000000}};
  // division by zero
  int code_check = ZERO_DIV;

  test_div_fail1(decimal1, decimal2, code_check);
}

START_TEST(test_div_manual15) {
  // 79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // 0.0000000000000000000000000001
  s21_decimal decimal2 = {{0x1, 0x0, 0x0, 0x1C0000}};
  // overflow
  int code_check = TOO_BIG;

  test_div_fail1(decimal1, decimal2, code_check);
}

START_TEST(test_div_manual16) {
  // 79228162514264337593543950335
  s21_decimal decimal1 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // -0.0000000000000000000000000001
  s21_decimal decimal2 = {{0x1, 0x0, 0x0, 0x801C0000}};
  // overflow
  int code_check = TOO_SMALL;

  test_div_fail1(decimal1, decimal2, code_check);
}

START_TEST(test_div_manual17) {
  // 0.0000000000000000000000000001
  s21_decimal decimal1 = {{0x1, 0x0, 0x0, 0x1C0000}};
  // -79228162514264337593543950335
  s21_decimal decimal2 = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}};
  // -0
  s21_decimal decimal_check = {{0x0, 0x0, 0x0, 0x80000000}};
  int code_check = TOO_SMALL;

  test_div_fail2(decimal1, decimal2, decimal_check, code_check);
}

START_TEST(test_div_manual18) {
  // 0.0000000074505801528346182749
  s21_decimal decimal1 = {{0xCAD4845D, 0x9F9C7BD, 0x4, 0x1C0000}};
  // 1152921504606846976
  s21_decimal decimal2 = {{0x0, 0x10000000, 0x0, 0x0}};
  // 0.0000000000000000000000000065
  s21_decimal decimal_check = {{0x41, 0x0, 0x0, 0x1C0000}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual19) {
  // 0.0000000000000000000542101054
  s21_decimal decimal1 = {{0x204FCE3E, 0x0, 0x0, 0x1C0000}};
  // 8388608
  s21_decimal decimal2 = {{0x800000, 0x0, 0x0, 0x0}};
  // 0.0000000000000000000000000065
  s21_decimal decimal_check = {{0x41, 0x0, 0x0, 0x1C0000}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual20) {
  // 8388608
  s21_decimal decimal1 = {{0x800000, 0x0, 0x0, 0x0}};
  // 0.0000000000000000000542101054
  s21_decimal decimal2 = {{0x204FCE3E, 0x0, 0x0, 0x1C0000}};
  // 154742514114351823414827745.38
  s21_decimal decimal_check = {{0x6306800A, 0xE4ABBB05, 0x32000031, 0x20000}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual21) {
  // 0.0000000000000000000020971522
  s21_decimal decimal1 = {{0x1400002, 0x0, 0x0, 0x1C0000}};
  // 8388608
  s21_decimal decimal2 = {{0x800000, 0x0, 0x0, 0x0}};
  // 0.0000000000000000000000000003
  s21_decimal decimal_check = {{0x3, 0x0, 0x0, 0x1C0000}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual22) {
  // 8388608
  s21_decimal decimal1 = {{0x800000, 0x0, 0x0, 0x0}};
  // 0.0000000000000000000020971522
  s21_decimal decimal2 = {{0x1400002, 0x0, 0x0, 0x1C0000}};
  // 3999999618530309817284601470.5
  s21_decimal decimal_check = {{0x695280F1, 0x2D062C6F, 0x813F38AA, 0x10000}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual23) {
  // 1
  s21_decimal decimal1 = {{0x1, 0x0, 0x0, 0x0}};
  // 39614081257132168796771975168
  s21_decimal decimal2 = {{0x0, 0x0, 0x80000000, 0x0}};
  // 0
  s21_decimal decimal_check = {{0x0, 0x0, 0x0, 0x0}};
  int code_check = TOO_SMALL;

  test_div_fail2(decimal1, decimal2, decimal_check, code_check);
}

START_TEST(test_div_manual24) {
  // 79228162514264337593543950320
  s21_decimal decimal1 = {{0xFFFFFFF0, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // 0.9999999999999999999999999998
  s21_decimal decimal2 = {{0xFFFFFFE, 0x3E250261, 0x204FCE5E, 0x1C0000}};
  // overflow
  int code_check = TOO_BIG;

  test_div_fail1(decimal1, decimal2, code_check);
}

START_TEST(test_div_manual25) {
  // -79228162514264337593543950320
  s21_decimal decimal1 = {{0xFFFFFFF0, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}};
  // 0.9999999999999999999999999998
  s21_decimal decimal2 = {{0xFFFFFFE, 0x3E250261, 0x204FCE5E, 0x1C0000}};
  // overflow
  int code_check = TOO_SMALL;

  test_div_fail1(decimal1, decimal2, code_check);
}

START_TEST(test_div_manual26) {
  // 79228162514264337593543950319
  s21_decimal decimal1 = {{0xFFFFFFEF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // 0.9999999999999999999999999998
  s21_decimal decimal2 = {{0xFFFFFFE, 0x3E250261, 0x204FCE5E, 0x1C0000}};
  // 79228162514264337593543950335
  s21_decimal decimal_check = {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};

  test_div(decimal1, decimal2, decimal_check);
}

START_TEST(test_div_manual27) {
  // 79228162514264337593543950319
  s21_decimal decimal1 = {{0xFFFFFFEF, 0xFFFFFFFF, 0xFFFFFFFF, 0x0}};
  // -0.9999999999999999999999999998
  s21_decimal decimal2 = {{0xFFFFFFE, 0x3E250261, 0x204FCE5E, 0x801C0000}};
  // -79228162514264337593543950335
  s21_decimal decimal_check = {
      {0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF, 0x80000000}};

  test_div(decimal1, decimal2, decimal_check);
}

Suite *s21_div_tests(void) {
  Suite *s1 = suite_create("div_tests");
  TCase *tc_core = tcase_create("div_tests");

  suite_add_tcase(s1, tc_core);
  tcase_add_test(tc_core, s21_s21_div1);
  tcase_add_test(tc_core, s21_s21_div2);
  tcase_add_test(tc_core, s21_s21_div3);
  tcase_add_test(tc_core, s21_s21_div4);
  tcase_add_test(tc_core, s21_s21_div5);
  tcase_add_test(tc_core, s21_s21_div6);
  tcase_add_test(tc_core, s21_s21_div7);
  tcase_add_test(tc_core, s21_s21_div8);
  tcase_add_test(tc_core, s21_s21_div9);
  tcase_add_test(tc_core, s21_s21_div10);
  tcase_add_test(tc_core, s21_s21_div11);
  tcase_add_test(tc_core, s21_s21_div12);
  tcase_add_test(tc_core, s21_s21_div15);
  tcase_add_test(tc_core, s21_s21_div16);
  tcase_add_test(tc_core, s21_s21_div17);
  tcase_add_test(tc_core, s21_s21_div18);
  tcase_add_test(tc_core, s21_s21_div19);
  tcase_add_test(tc_core, s21_s21_div20);
  tcase_add_test(tc_core, s21_s21_div21);
  tcase_add_test(tc_core, s21_s21_div22);
  tcase_add_test(tc_core, s21_s21_div23);
  tcase_add_test(tc_core, s21_s21_div24);
  tcase_add_test(tc_core, s21_s21_div25);
  tcase_add_test(tc_core, s21_s21_div26);
  tcase_add_test(tc_core, s21_s21_div28);
  tcase_add_test(tc_core, s21_s21_div29);
  tcase_add_test(tc_core, s21_s21_div31);
  tcase_add_test(tc_core, s21_s21_div32);
  tcase_add_test(tc_core, s21_s21_div33);
  tcase_add_test(tc_core, s21_s21_div35);
  tcase_add_test(tc_core, s21_s21_div36);
  tcase_add_test(tc_core, s21_s21_div41);
  tcase_add_test(tc_core, s21_s21_div42);
  tcase_add_test(tc_core, s21_s21_div43);
  tcase_add_test(tc_core, s21_s21_div44);
  tcase_add_test(tc_core, s21_s21_div45);
  tcase_add_test(tc_core, s21_s21_div46);
  tcase_add_test(tc_core, s21_s21_div47);
  tcase_add_test(tc_core, s21_s21_div48);
  tcase_add_test(tc_core, s21_div_49);
  tcase_add_test(tc_core, s21_div_50);
  tcase_add_test(tc_core, s21_div_51);
  tcase_add_test(tc_core, s21_div_52);
  tcase_add_test(tc_core, s21_div_53);
  tcase_add_test(tc_core, s21_div_54);
  tcase_add_test(tc_core, s21_div_55);
  tcase_add_test(tc_core, s21_div_56);

  tcase_add_test(tc_core, test_div_fail_manual1);
  tcase_add_test(tc_core, test_div_fail_manual2);
  tcase_add_test(tc_core, test_div_fail_manual3);
  tcase_add_test(tc_core, test_div_fail_manual4);
  tcase_add_test(tc_core, test_div_fail_manual5);
  tcase_add_test(tc_core, test_div_fail_manual6);
  tcase_add_test(tc_core, test_div_fail_manual7);
  tcase_add_test(tc_core, test_div_fail_manual8);
  tcase_add_test(tc_core, test_div_fail_manual9);
  tcase_add_test(tc_core, test_div_fail_manual10);
  tcase_add_test(tc_core, test_div_fail_manual11);
  tcase_add_test(tc_core, test_div_fail_manual12);
  tcase_add_test(tc_core, test_div_fail_manual13);
  tcase_add_test(tc_core, test_div_fail_manual14);
  tcase_add_test(tc_core, test_div_fail_manual15);
  tcase_add_test(tc_core, test_div_fail_manual16);
  tcase_add_test(tc_core, test_div_fail_manual17);

  tcase_add_test(tc_core, test_div_manual1);
  tcase_add_test(tc_core, test_div_manual2);
  tcase_add_test(tc_core, test_div_manual3);
  tcase_add_test(tc_core, test_div_manual4);
  tcase_add_test(tc_core, test_div_manual5);
  tcase_add_test(tc_core, test_div_manual6);
  tcase_add_test(tc_core, test_div_manual7);
  tcase_add_test(tc_core, test_div_manual8);
  tcase_add_test(tc_core, test_div_manual9);
  tcase_add_test(tc_core, test_div_manual10);
  tcase_add_test(tc_core, test_div_manual11);
  tcase_add_test(tc_core, test_div_manual12);
  tcase_add_test(tc_core, test_div_manual13);
  tcase_add_test(tc_core, test_div_manual14);
  tcase_add_test(tc_core, test_div_manual15);
  tcase_add_test(tc_core, test_div_manual16);
  tcase_add_test(tc_core, test_div_manual17);
  tcase_add_test(tc_core, test_div_manual18);
  tcase_add_test(tc_core, test_div_manual19);
  tcase_add_test(tc_core, test_div_manual20);
  tcase_add_test(tc_core, test_div_manual21);
  tcase_add_test(tc_core, test_div_manual22);
  tcase_add_test(tc_core, test_div_manual23);
  tcase_add_test(tc_core, test_div_manual24);
  tcase_add_test(tc_core, test_div_manual25);
  tcase_add_test(tc_core, test_div_manual26);
  tcase_add_test(tc_core, test_div_manual27);

  return s1;
}
